# 暑期实习  面经

## 3.4  字节-商业化  一面

1. 实习时长，每周出勤天数 （可实习到毕业，每周五天）

2. 学习最好的科目（数据结构和**操作系统**，说了“操作系统"后面埋下祸患了，八股学的不扎实）

3. 介绍下虚拟内存，虚拟内存解决了什么问题 

4. 进程、线程的区别和联系

5. 一个进程fork()后，其线程是否也会跟着复制，为什么？（未答出来）

6. 算法题

   （1） 前序+中序还原二叉树，并问了前序和后序是否可以构造二叉树

   （2）旋转数组最小值（默认每个数都不相等），如果有相等的数该如何处理代码逻辑

## 3.6  字节-商业化  二面

（1）实习项目：介绍下自己主要的工作（一开始方向跑偏了，介绍了很多自己平台设计的东西和数据流流向）。

认为自己做过的需求中**最有挑战性的事情**（说了PICO Avatar新增字段适配给全部需求的逻辑处理）

（2）Golang 语言垃圾回收机制 （三色标记法）

垃圾回收是否会产生内存碎片，如何处理 （没回答出来，**复制-回收机制**）

（3）Golang 协程调度是怎样的？

（4）为什么一定需要处理机P?直接用M（工作线程）不可以调度吗？ （**当时不太会**）

（5）联合索引(a,b,c) select*from table where a=? and b<? and c>? 会命中什么索引？

   B+树有了解吗？

  联合索引的B+树怎么实现的？如何处理这些索引的命中？

   B+树索引比起其他数据结构有什么好处？

（6）SQL注入含义？有什么方法避免？ （**讲了采用gorm库，采用类型安全的参数之类的，面试官让我讲讲有没有方法能从MySQL本身来避免**）

​      SQL预编译有了解吗？简单讲讲

（7）HTTPS与HTTP区别，加密方式（对称+非对称），分别在哪一步进行？

​       为什么不能都对称加密或者都非对称加密？ （**这个不了解**）

（8）HTTP的状态码有哪些，什么含义？（**3开头的有什么含义没答出来**）

（9）上一段实习为什么离职？为什么想来字节商业化部门？

算法题：

​    求一个树（不是二叉树，给出了结点定义）的**最小**深度



不过我二面迟到了3分钟，面试官问我怎么回事？说我这样态度不够端正，对面试不够重视，**二面挂**



## 3.11 腾讯   wxg  读书产品团队 一面

### 三道算法题 （40min）

（1）求二叉树的最大深度（我用递归写出来后，面试官让我用迭代再写一次——层序遍历）

（2）判断一棵二叉树是否为二叉搜索树

（3）给四个点，判断可以组成正方形吗  （我提供的思路 ： 六个距离排序，前四个相等，后两个相等且大于dist[0]即可。但是有两个问题：防止点重合，距离最小值不能为0；如果是等边三角形并向**外侧角平分线**作相等边，则**无法组成正方形**）

**正确解答见官方题解**（对角线相互平分、垂直且相等。一共可以分成三组，有一组满足即可）



### **八股** （25 min）

（1）算法用的C++，问我C++掌握的如何呀？ 有没有了解C++11新特性（智能指针） ——不太了解，加强学习

（2）操作系统进程、线程、协程的区别有哪些？

 为什么进程切换开销比线程切换大？

给一批要处理的任务 ，什么时候需要多进程、多线程、多协程（不太会，面试官提示从CPU密集型和IO密集型考虑）

 （3）操作系统**锁**有哪些类型 （面试官打断让我从乐观锁、悲观锁角度回答，乐观锁有哪些实现，悲观锁有哪些实现）

 （4）数据结构中map的区别（C++ unordered_map和map，以及Golang的map）

  红黑树和哈希表分别在什么场景下适用 

 （5）`Redis`基本数据类型有哪些

底层实现了解吗（不了解，后面加强学习）

 （6） 在字节实习六个月离职的原因是什么



  最后分析我适合用数据结构和算法，做一个类似搜索引擎的东西；不是特别适合做后台（但做后台也行，很多基础知识需要扎实学习）



 ## 3.14 腾讯   wxg  读书产品团队 二面

### 介绍项目经历

1：智慧心理平台

（1）用`Redis`做缓存只保存验证码吗？是否有些浪费？（答：还有一些根据id查找咨询记录、预约记录等也用了Redis）

（2）对于Redis与数据库的一致性怎么处理的 （先写MySQL，再删Redis ，**有极小概率不一致**）

（3）如果一直请求不存在的数据如何处理？ 

 （4）请求超时时间想设为1s 怎么处理 ？（Gin超时中间件，当时没答出来）

（5）登陆时的 JWT验证有没有什么其他方法实现？

2：字节通用内容安全审核

（1）介绍下整体流程及自己做的工作

（2）自己做的工作的代码是不是基本已经写好了（答：增加新的配置文件，修改回调函数等）

（3）业务方接入服务是通过 RPC吧？ 

（4）读取动态配置中心都是自己写的吗？ 配置文件多人修改怎么处理的？（稍微吐槽了一下这个合并多人写的配置文件的问题）

（5）接入HTTP做了什么，DNS解析怎么处理的 （ 平台中新增审核权限就可以下发审核，DNS解析平台不是自己写的，面试官说这个没必要写到简历了）

 （6）机审策略的改进有什么好处？



### 算法

`goroutine`实现三个协程交替输出ABC，共10次

### 八股

 （1） 你一般是用Golang多吗，C++熟悉不熟悉

（2）C++ 的map和unordered_map在遍历方式有什么区别，为什么unordered_map不能倒着遍历？**（**

**不太会）**

（3）C++的vector中resize和reserve有什么区别？ （**reserve不太了解**）

（4）C++11了解多吗？

### 开放场景题

（1）面对面建群的6位数，如何保证一段时间内不重复（我回答了用a. Redis SET 和 b.用时间戳对100000取余，并用集合去重，重复了+1）

（2）微信抢红包如何让场景比较刺激（不怎么平均），但是不要特别有利于先抢红包的？ 



## 3.19 腾讯   wxg  读书产品团队 三面

（1）智慧心理平台项目的QPS 大概是多少？（**不怎么了解**）

​       大概有多少人在用？（整个学校）

​       请求比较多导致服务比较慢时，如何处理？

（2）字节实习项目最有挑战性的部分？是哪方面的问题？  采用表达式过滤主要是为了什么？

然后对于**最常见的需求**主动提了一下，需求比较多和杂，但难度没有很大

（3）字节实习是有个mentor吗？每次需求是他带还是自己own？（前两次会指导每个环节，后面自己own有小问题问他）

（4）需求的qps大概多少（小于60） 要不要压测？

（5）如果请求比较多，项目报警后一般怎么处理呀？一般你们部门报警是什么原因呀？

 （6）场景：对于输入法，用户输入的前几页找不到想要的结果，如何能够了解到这些Bad Case？（我提了键盘布局上邻近键的结果也显示）

6.1 有没有深入用过输入法呀？（我说用backspace次数判断一些bad case并优化提示，但是面试官说只有汉字不是很好；我提了英文字的backspace，他问我跟英文字有什么关系？）

6.2 你对我们部门做什么有了解吗？

6.3 你平时用什么输入法？（电脑搜狗，手机苹果自带的）

（7）上段实习什么原因离职？ 想做toC业务是出于什么原因？

**反问**

问了可否尽快出结果（ 原因：租房3.31到期了，如果通过的话打算去公司附近租）

部门是做关于微信输入法的哪些方面？（回答都做）

业务中后台服务对于搜索算法是不是直接调用接口？ （回答是）



## 3.19 蚂蚁 （转正实习）应用研发工程师-JAVA   笔试

必做题：

单选、多选包括Linux、数据结构、操作系统、计算机网络、数据库系统的基本知识，但有的知识比较偏门（比如`HTTP2`，非标准堆）

编程题 （1） 一件商品最低多少价格买下（有折扣券和立减券，可以两个都使用但是顺序不限）

（2）判断*组成为L还是T 

（3）山高图，给多次查询看从a到b且翻阅的高度差不超过k的路径是否存在（**超时**）

选做题：Java/C++，**Java主要考察面向对象**

## 3.27  阿里  淘天集团    笔试

**必做题**：单选6题、不定项7题。包括Linux、数据结构、操作系统、计算机网络、数据库系统、设计模式等，**范围广但不深，有偏门问题**。

**选做题**：Java/C++/JavaScript （一道单选一道不定项）

**编程题** （1） 有n个账号，m场比赛（每场比赛得分为b），可以选择把比赛得分加到分最低的账号上，输出每次比赛后的得分最大值。

（2）长度为n的数字，为了让数组有序（单调不减），选择一段区间[l,r]，删除这段区间的数，并把其他部分拼接在一起，计算有多少种不同的区间选择方案。（**全删除也算一个方案**）

（3）长度为n的墙（字符串a），包括红(R)白（W）两种颜色。

施法方式：选择一段区间[l,r] 将这段区间全部染成红色(R)，要求施法次数不超过m次，每一次施法区间长度在k以内，求出**最小的区间长度k**。



## 3.28 腾讯   wxg  读书产品团队 四面（面委会）

面试官迟到15分钟，写完算法题后面试官有事在忙（ 11:40， 他估计吃饭去了），写完叫了他两次没回应。后面他应该是忙完手头事了然后继续给我面试了吧

### 算法

1.输入正实数x，求解y^7+0.5*y=x的解，要求精确到两位小数 （二分，Newton下山法）

2.二叉树的最大子树和（子树和指的是子树所有节点和，节点值可以为负数）

3.给一个数组和目标值T，从数组中找到和为T的三个数后返回（多个解返回一个即可）

### 八股

 （1） C++11 智能指针有了解多少？ （还不太了解，面试官说没关系）

（2） 操作系统共同读写的资源为什么需要锁 （我答了可能读出错的值，面试官说读写顺序没啥关系，引导我从复杂数据结构比如二叉树、B+树来讲）

（3）TCP四次挥手过程，为什么需要TIME_WAIT阶段？TIME_WAIT阶段时长为多少？

（4）如何消除TIME_WAIT对内存和端口资源的占用？  （我只说了TIME_WAIT时间不能过长）

###  实习经历

  （1）实习时做的工作介绍，审核链路中对代码和配置做了哪些修改？

  （2）审核平台是部门内自己写的代码吗？审核流需要过的模型是调用他人接口吗？

  （3）审核结果（比如通过、警告、封禁等）是如何处理的？（人审回调，然后自行写函数处理结果）

  （4）每天有多少人在用这套审核系统？QPS大概是多少？

  （5）不同的业务线走的审核链路都一样流程吗？（有自己新增的处理和回调函数）

### 场景题

（1）`100GB`的文件，但是内存只有`10GB`，如何统计出现过的文件数据项 （要求可以去重）

我说了**外部归并排序**

然后问我如果对文件分块，排序的细节，每次如何从这么多里面选取文件项进行合并 （**外部排序忘记了，后面补一补**）



最后**四面挂**。



## 3.31 腾讯统一笔试

2小时，共有5个编程题

(1) 给一个无向图，连接的所有边**都为红色**的顶点则为"好点"，不连接边的顶点也算"好点"，统计好点的数目

(2) 给一组链表，每个链表各个数字不相同，判断每个链表是否可以 只分割一次后随意拼接并有序 （例如[1,2,3],[2,3,1]返回true，但[3,2,1]返回false）

(3) 给一个未连通的图，判断有多少种加**一条边**的方案使之为连通图 ，如果不存在则输出0。（只有两个连通分量【并查集】，并把两个集合的大小乘起来即可）

(4) 将长度为n的数组分成k个子数组（k<=n) ，每个子数组分别异或，并将每个子数组异或后的值相加，求和的最大值。 

(5) 给一个n*m的字符矩阵，可以从任意起点出发，行走方向可以是上下左右。求共有多少种方案能走出**`"tencent"`**字符串。



## 4.1  蚂蚁 （转正实习）应用研发工程师-JAVA    一面

### 部门：**蚂蚁集团-数字科技线-*-ZOLOZ技术部**  

形式：电话面试

### 介绍项目

#### （1）字节通用审核平台

  平台支持哪些审核功能？

  过机审模型前内容过滤是如何实现的，`expr-lang`是个包吗，主要做了什么功能？【 介绍的有点凌乱，面试官说“讲讲这个内容过滤需求的背景，以及实现方式吧“】

  讲一下项目中比较具有挑战性的部分吧 （人审通用回调的适配），遇到的问题是怎样解决的？

  有解决过线上服务的报警吗？采用什么方式解决的？

 #### （2）智慧心理平台

JWT 是如何产生和做登录校验的？

拦截器除了用JWT进行校验外，还有什么其他方式？（回答了Session）

Session和JWT有什么区别？各自有什么优缺点？

（提到了JWT没有Session安全 ，被狠狠拷打了，比如被问JWT不安全为什么要选它？然后被问”JWT是如何保证安全的“，提了一嘴`HS256`加密算法，被问”`HS256`算法是如何实现加密的，还知道有什么其他的加密方法吗”）

 ### 八股文

1.后端开发一般都是在Linux环境吧，比较熟悉的Linux命令有哪些？

2.比较熟悉的git命令有哪些？ git add和git commit的区别？合并别人代码时，git merge和git rebase区别？

3.内存区域中，堆区和栈区有什么区别？  

（面试官认为我对C++熟悉一些问了如下问题——）对一个数组或对象，**什么时候用堆区？（int*a=new int [size]） 什么时候用栈区？（局部变量，比如int a[size] ）**（我从对象的大小角度回答的，面试官追问还有其他原则吗？没答出来）

4. Java为什么几乎所有的对象实例以及数组都在堆分配内存？

5.有了解什么容器类数据结构吗（我讲的C++的vector，list，queue，map，set那些）

6.map和unordered_map有什么区别？插入、查找和删除的时间复杂度分别是多少？

priority_queue有什么特性，采用什么数据结构实现？push和pop怎么实现的？

7.计算机网络七层模型有哪些？TCP/IP四层模型跟七层模型如何对应的？ 

8.`HTTP`协议的请求和响应报文分别是怎么组成的？

 9.请求和响应报文的头部字段有哪些了解的?

10.`HTTP`常见状态码有哪些？

 ### 算法

编辑距离（口述思路即可）



## 4.3  阿里-高德地图  JAVA开发工程师-技术服务平台  一面

时间为30分钟，然后**一面挂**。

### 介绍项目

（1）字节的通用审核平台，审核内容是否可以为音频、视频呢？

  音频、视频可以过机审吗？

 （2）音频、视频审核时间较长，如何处理？

 （3）是否支持多个场景任务并行处理（比如有三个任务，三白就通过，一黑两白就不通过）？对于这种并行处理的任务，在技术上有什么想法吗？

（4）随着使用的人越来越多，如何保证这个审核服务不挂呢？

（5）这个**系统的瓶颈**主要在哪里？ （我说的是内存，递归调用接口层数过多）

（6）递归调用的时候，能保证一定有出口吗？（能，因为如果有问题必会返回err）

 （7)  异步审核结果是如何返回给业务方的（提到了Eventbus  ，然后赶忙补充是字节内部的消息队列，发布-订阅模式）

（8）Eventbus与Kafka有什么区别？（我补充到不太了解Kafka，了解RocketMQ，面试官问我说Golang语言也能接入`RocketMQ`了？），RocketMQ 定时消息有了解吗，常用于做什么？

（9）RocketMQ的事务消息有了解吗？（不了解）

（10）如果给一个新项目，如何确定技术选型用Java还是Golang？ （我讲了并发度相关的，面试官认为还不够）

 面试官补充问到：

   有了解为什么Golang的项目启动比Java项目快吗？

  Java有没有什么特有的特性，Golang没有的？（我提到了继承，其实Golang也可以）问：什么场景下需要类的继承？（我提到了具有相似特征的一些事物，比如页面、B+树页面、B+树内部页和叶子页面）

 （11）协程为什么比线程切换开销小

 （12）minisql项目：

 ① B+树页的大小如何确定（我说用了4KB） ，InnoDB一个数据页大小为多少？

 ② 介绍一下B+树，如何查找、插入和删除，为什么选用B+树做索引

### 八股文

（1）Redis 存储对象数据，什么时候用string 什么时候用hash?

（2）Redis BigKey 问题有了解吗？（一开始答错了），如何处理BigKey问题？

 （3）Redis HotKey 问题有了解吗？如何解决Hotkey问题？ （读写问题如何保证节点数据一致性）

（4）多级缓存有了解吗？（不太了解）

（5）`SpringBoot`写项目与直接用Java编程，你感觉到有哪些优势？



## 4.3  阿里-淘天集团  研发工程师-JAVA   一面

### 部门：淘天集团-用户平台&阿里妈妈事业部-联盟技术

   时间为1小时

### 项目 and 八股

（1）字节**通用内容安全审核平台**，有挑战性的部分在哪里？

（ 机审模型前的内容过滤，expr-lang包的使用；人审回调函数中，通用回调对于新字段的类型转换（string,[]string,[]int等）

（2）项目中状态流转的控制是如何实现的？（状态机，但是细节不是很懂）

（3）在`minisql`项目中，索引采用的什么数据结构？ B+树一次操作的时间复杂度为多少？

（4）索引类型如何划分？（答得混乱，应用维度和底层存储角度的名词都涉及了）

 （5）什么是聚簇索引？ 聚簇与非聚簇索引各自有什么优缺点？

（6）MySQL的连接操作有哪些？内连接和外连接在执行效果上有什么区别？

   如果连接不考虑索引，一次**连接查询操作**的时间复杂度是多少？

  如何优化连接查询操作？ （增加索引，先查列少行少的表）

 （7）对于一个频繁访问的大表，我们对于各个字段如何考虑建立索引？

  （8）如果数据库读写都很频繁，如何提升效率？ （读写分离，主节点写，从节点读）

 （9）读写分离，在高并发访问时，如何保证数据库读操作的一致性（防止出现写后读问题） **（不是特别了解）**

  ### 场景题 and 八股

1.给予一个很大的日志文件如10TB，内存只有4G，每个数据项都有个id，那么如何对日志文件数据项排序？**时间复杂度为多少？**

​    主要耗时的部分在磁盘IO，如何减少外部归并排序过程中的磁盘IO次数？

2.需求：对于双十一，库存某商品6000个订单，如何保证在库存为0的时候，不让顾客下单。因为顾客太多，如何保证系统快速返回给不能下单的顾客一个结果？  （只用数据库会造成大量IO访问）

​    答：将库存需要秒杀的商品放入缓存中，并设置过期时间超过抢购时间。对于请求不存在商品的行为，缓存空对象防止缓存穿透。一部分用户在购买页面弹出err，一部分用户在下单弹出err。

   （1）如果访问到无效对象，如何返回结果？【被反问了一下：直接返回报错信息吗】

​    （2）Redis限流有什么方法？（**不太了解**）

   

### 代码

 1.用Java实现一个方法`Table Foo(Table a,Table b,LIst<List<String>> keyPairs)`

Table类自己实现，实现两个表按照`keyPairs`指定字段进行内连接，不考虑where，索引的情形

 （计时20min）

时间复杂度为多少 `O(m * n * k)`

（m,n 分别为a和b表有几个记录，k表示有多少组连接的字段）



## 4.3  蚂蚁 （转正实习）应用研发工程师-JAVA    二面

### 部门：**蚂蚁集团-数字科技线-*-ZOLOZ技术部**  

时间：30分钟

（1）自我介绍

 （2）本科学药学的，为什么跨专业读软件工程研究生？为什么就对计算机感兴趣了？

 （3）之前在字节实习，为什么不留下离职了？部门有没有HC？ 未来打算base北京吗？

 （4）自己认为字节通用内容安全审核项目，以及智慧心理平台项目各自比较有挑战性的地方在哪里？如何解决的？

 （5） 你认为字节的通用内容安全审核项目比较困难的地方在哪里？ 如何对各业务线审核流程抽象出的这套审核流？ （最后面试官评价是通用能力搭建可以简化了开发流程）

 （6）通用审核平台对于不同场景，有没有办法定制化方案

（7）字节的内容安全审核项目部门大概有多少个实习生？

​    智慧心理平台项目是给学院用的，这个项目是给后端入门练手的吗？有多少人在做这个项目？

（8）有深入了解过开源项目吗？（只使用过对应的包，没有挖掘源码）

  （9）学习最好的科目 （数据结构），为什么认为这门课学得最好？

 （10）哈希表发生冲突时有哪些解决方法？你认为哪种解决方法最好？

（11）你认为自己的Java学的怎么样？`SpringBoot`学的怎么样？（正在学习，但有C++基础）

 （12）Java接口和抽象类有什么区别？

 面试官说语言不是重点，不要功利，根据业务导向来，部门内的服务有可能接入人工智能用Python

  
